<script>
  var institutions = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    prefetch: {
      url: '/json/institutions.json',
      ttl: 500
    }
  });

  var countries = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.whitespace,
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    prefetch: '/json/countries.json'
  });

  var states = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.whitespace,
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    prefetch: '/json/states.json'
  });

  $('#multiple-datasets .typeahead').typeahead({
    hint: true,
    highlight: true,
    minLength: 1,
  },
  {
    name: 'countries',
    source: countries
  },
  {
    name: 'states',
    source: states
  },
  {
    name: 'institutions',
    display: 'name',
    source: institutions
  });
</script>
